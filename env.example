
# ========================================
# AUTH SERVICE - ENVIRONMENT TEMPLATE
# ========================================
# Copy this file to .env.development, .env.test, .env.production
# and update the values according to your environment

# ========================================
# CORE CONFIGURATION
# ========================================
NODE_ENV=development
PORT=3001
HOST=localhost
APP_VERSION=1.0.0

# Request Configuration
REQUEST_TIMEOUT=30000
MAX_REQUEST_SIZE=10mb
MAX_FILE_SIZE=5mb

# Compression Configuration
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
COMPRESSION_THRESHOLD=1024

# ========================================
# JWT & AUTHENTICATION
# ========================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRY=15m
REFRESH_TOKEN_SECRET=your-refresh-token-secret-change-in-production
REFRESH_TOKEN_EXPIRY=7d
COOKIE_SECRET=your-cookie-secret-change-in-production

# ========================================
# DATABASE CONFIGURATION (MySQL)
# ========================================
DB_HOST=localhost
DB_PORT=3306
DB_NAME=auth_service
DB_USER=root
DB_PASSWORD=Develop@NN!2345
DB_POOL_MAX=10
DB_POOL_MIN=0
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000
DB_POOL_EVICT=60000
DB_LOGGING=false
DB_SSL=false
DB_TIMEZONE=+00:00

# Database Connection Options
DB_CONNECT_TIMEOUT=60000
DB_ACQUIRE_TIMEOUT=60000
DB_TIMEOUT=60000

# Database Retry Configuration
DB_RETRY_MAX=3
DB_RETRY_BACKOFF_BASE=1000
DB_RETRY_BACKOFF_EXPONENT=1.5

# ========================================
# DATABASE CONFIGURATION (MongoDB)
# ========================================
MONGODB_URI=mongodb://localhost:27017/authService

# ========================================
# REDIS CONFIGURATION
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=authService:

# Redis Connection Options
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000
REDIS_KEEPALIVE=30000
REDIS_FAMILY=4

# Redis Retry Configuration
REDIS_RETRY_DELAY=100
REDIS_MAX_RETRIES=2
REDIS_CLUSTER_ENABLED=false
REDIS_SENTINEL_ENABLED=false
REDIS_MAX_RETRIES_PER_REQUEST=2
REDIS_MAX_RECONNECT_ATTEMPTS=2

# Redis Performance Settings
REDIS_SLOW_COMMAND_THRESHOLD=100
REDIS_HEALTH_CHECK_INTERVAL=30000

# Redis Security
REDIS_TLS=false

# ========================================
# RABBITMQ CONFIGURATION
# ========================================
# Primary RabbitMQ URL (REQUIRED)
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# Individual RabbitMQ Settings
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# RabbitMQ Connection Options
RABBITMQ_HEARTBEAT=60
RABBITMQ_TIMEOUT=30000
RABBITMQ_PREFETCH=10

# RabbitMQ Retry Configuration
RABBITMQ_MAX_RETRIES=5
RABBITMQ_RETRY_DELAY=2000
RABBITMQ_RETRY_MULTIPLIER=1.5

# RabbitMQ SSL Configuration (for production)
RABBITMQ_SSL_CERT=
RABBITMQ_SSL_KEY=
RABBITMQ_SSL_CA=

# ========================================
# gRPC CONFIGURATION
# ========================================
GRPC_SERVER_HOST=localhost
GRPC_SERVER_PORT=50050
GRPC_MAX_RECEIVE_LENGTH=4194304
GRPC_MAX_SEND_LENGTH=4194304
GRPC_KEEPALIVE_TIME=30000
GRPC_KEEPALIVE_TIMEOUT=5000
GRPC_MAX_PINGS=2

# gRPC Client Connections
GRPC_USER_SERVICE_HOST=localhost
GRPC_USER_SERVICE_PORT=50051
GRPC_USER_SERVICE_TIMEOUT=5000


# ========================================
# FEATURE FLAGS (DEVELOPMENT)
# ========================================
FEATURE_AUDIT_LOGGING=false
FEATURE_METRICS=false
FEATURE_CACHE_LOGGING=false
FEATURE_GRPC_LOGGING=false
FEATURE_RABBITMQ_LOGGING=false
FEATURE_DATABASE_LOGGING=false
FEATURE_HTTP_LOGGING=false



# ========================================
# HTTP SERVICES
# ========================================
USER_SERVICE_URL=http://localhost:3002
USER_SERVICE_TIMEOUT=5000
USER_SERVICE_RETRIES=3

NOTIFICATION_SERVICE_URL=http://localhost:8901
NOTIFICATION_SERVICE_TIMEOUT=5000
NOTIFICATION_SERVICE_RETRIES=3

# ========================================
# SECURITY & FEATURES
# ========================================
BCRYPT_ROUNDS=10
PASSWORD_MIN_LENGTH=8
PASSWORD_MAX_LENGTH=128
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400
ENABLE_HELMET=true
ENABLE_HSTS=true
ENABLE_CSP=true
CSRF_ENABLED=true
CSRF_TOKEN_LENGTH=32
CSRF_TOKEN_EXPIRY=3600
SESSION_SECRET=your-session-secret-change-in-production
SESSION_MAX_AGE=86400000
ENCRYPTION_KEY=your-32-char-encryption-key-change
ENCRYPTION_ALGORITHM=aes-256-gcm

# ========================================
# OAUTH PROVIDERS
# ========================================
GOOGLE_OAUTH_ENABLED=false
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:3001/auth/google/callback

FACEBOOK_OAUTH_ENABLED=false
FACEBOOK_CLIENT_ID=
FACEBOOK_CLIENT_SECRET=
FACEBOOK_REDIRECT_URI=

GITHUB_OAUTH_ENABLED=false
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=

# ========================================
# CRYPTO CONFIGURATION
# ========================================
KEY_ROTATION_TIME=2h
PRIVATE_KEY_RETENTION=4h
PRIVATE_KEY_EXPIRY=1h
KEY_SIZE=2048

# ========================================
# FEATURE FLAGS
# ========================================
FEATURE_EMAIL_VERIFICATION=true
FEATURE_PHONE_VERIFICATION=false
FEATURE_2FA=false
FEATURE_SOCIAL_LOGIN=true
FEATURE_PASSWORD_RESET=true
FEATURE_ACCOUNT_LOCKOUT=true
FEATURE_AUDIT_LOGGING=true
FEATURE_METRICS=true

# ========================================
# MONITORING
# ========================================
MONITORING_ENABLED=true
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000
TRACING_ENABLED=false
JAEGER_HOST=localhost
JAEGER_PORT=6832

# ========================================
# LOGGING CONFIGURATION
# ========================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_COLORIZE=true
LOG_FILE_ENABLED=false
LOG_FILE_MAX_SIZE=10m
LOG_FILE_MAX_FILES=14d
LOG_FILE_COMPRESS=true
LOG_EXTERNAL_ENABLED=false
LOG_EXTERNAL_SERVICE=
LOG_EXTERNAL_API_KEY=
LOG_EXTERNAL_ENDPOINT=
LOG_TO_FILE=false
LOG_TO_CONSOLE=true   

# ========================================
# CACHE CONFIGURATION
# ========================================
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_COMPRESSION=true

# ========================================
# EMAIL CONFIGURATION
# ========================================
EMAIL_ENABLED=true
EMAIL_PROVIDER=smtp
EMAIL_FROM=dev@example.com
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USERNAME=
SMTP_PASSWORD=
SENDGRID_API_KEY=
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# ========================================
# SMS CONFIGURATION
# ========================================
SMS_ENABLED=false
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=

# ========================================
# COMPLIANCE CONFIGURATION
# ========================================
GDPR_ENABLED=true
GDPR_USER_DATA_RETENTION=220752000000
GDPR_AUDIT_LOGS_RETENTION=63072000000
GDPR_SESSION_DATA_RETENTION=2592000000
GDPR_CONSENT_REQUIRED=true
GDPR_DATA_MINIMIZATION=true
GDPR_PURPOSE_LIMITATION=true

SOX_ENABLED=false
SOX_AUDIT_TRAIL=true
SOX_DATA_INTEGRITY=true
SOX_ACCESS_CONTROL=true

PCI_ENABLED=false
PCI_DATA_ENCRYPTION=true
PCI_ACCESS_CONTROL=true
PCI_AUDIT_LOGGING=true